<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>1.1、vuex简单的计数demo</title>
</head>
<body>
<div id="app">
	<p>1.1、vuex简单的计数demo</p>
	<p>只含state、mutations</p>
	<p><a href="http://vuex.vuejs.org/zh-cn/getting-started.html">vuex最简单的计数文档</a></p>
    <p><a href="https://jsfiddle.net/n9jmu5v7/341/">jsfiddle代码运行</a></p>
  <p>{{ count }}</p>
  <p>
    <button @click="increment">+</button>
    <button @click="decrement">-</button>
  </p>
</div>
<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/vuex"></script>
<script>
	// make sure to call Vue.use(Vuex) if using a module system
	// Vue.use(Vuex);
	// 在一个模块化的打包系统中，您必须显式地通过 Vue.use() 来安装 Vuex：

	// import Vue from 'vue'
	// import Vuex from 'vuex'

	// Vue.use(Vuex)
	
	//当使用全局 script 标签引用 Vuex 时，不需要以上安装过程。
	console.log(Vuex);
	const store = new Vuex.Store({
	  state: {
	    count: 0
	  },
	  mutations: {
	  	increment: state => state.count++,
	    decrement: state => state.count--
	  }
	})

	const app = new Vue({
	  el: '#app',
	  computed: {
	    count () {
		    return store.state.count;
	    }
	  },
	  methods: {
	    increment () {
	      	console.log(this);
	      	store.commit('increment');
	    },
	    decrement () {
	    	store.commit('decrement');
	    }
	  }
	})
</script>
</body>
</html>