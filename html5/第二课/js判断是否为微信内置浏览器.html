<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>判断是否是微信内置浏览器</title>
</head>
<body>
    <h1>如果用微信浏览器打开可以看到下面的文字</h1>
    <p></p>
    <script type="text/javascript">
    window.onload = function(){
        if(isWeiXin()){
            var p = document.getElementsByTagName('p');
            p[0].innerHTML = window.navigator.userAgent;
        }
    }
    function isWeiXin(){
        // var ua = window.navigator.userAgent.toLowerCase();
        // 通过fiddler抓包获取的微信内置浏览器的userAgent
        var ua = 'Mozilla/5.0 (Linux; Android 4.2.2; H30-T00 Build/HuaweiH30-T00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/37.0.0.0 Mobile MQQBrowser/6.2 TBS/036523 Safari/537.36 MicroMessenger/6.3.18.800 NetType/WIFI Language/zh_CN'.toLowerCase();
        //方法一、正则表达式
        if(ua.match(/MicroMessenger/i) == 'micromessenger'){
            return true;
        }else{
            return false;
        }
        // 方法二，字符串indexOf()匹配
        if(ua.indexOf('micromessenger') != -1){ //存在
            return true;
            }else{
            return false;
        }
    }
    </script>
</body>
</html>
